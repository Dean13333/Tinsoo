_HiStOrY_V2_
exit
SHOW\040DATABASES;
CREATE\040DATABASE\040Tinsoo;
GRANT\040ALL\040PRIVILEGES\040ON\040Tinsoo.*\040TO\040'root'@'localhost';
FLUSH\040PRIVILEGES;
use\040Tinsoo;
use\040DATABASE\040Tinsoo;
create\040table\040users(
id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,
\040\040\040\040email\040VARCHAR(255)\040UNIQUE\040NOT\040NULL,
\040\040\040\040user_id\040VARCHAR(255)\040UNIQUE\040NOT\040NULL
);
create\040table\040books(
book_id\040int\040auto_increment\040primary\040key,
\040\040\040\040book_name\040varchar(255)\040not\040null,
\040\040\040\040writer\040varchar(255)\040not\040null,
\040\040\040\040publishing\040varchar(255)
);
create\040table\040books(\040book_id\040int\040auto_increment\040primary\040key,\040\040\040\040\040book_name\040varchar(255)\040not\040null,\040\040\040\040\040writer\040varchar(255)\040not\040null,\040\040\040\040\040publishing\040varchar(255)\040);
create\040table\040books_file(
file_id\040int\040auto_increment\040primary\040key,
\040\040\040\040file_name\040varchar(255)\040not\040null,
\040\040\040\040file_content\040longblob
);
create\040table\040books_file(\040file_id\040int\040auto_increment\040primary\040key,\040\040\040\040\040file_name\040varchar(255)\040not\040null,\040\040\040\040\040file_content\040longblob\040);
alter\040table\040books_file\040add\040constraint\040fk_books_file\040foreign\040key\040(file_id)\040references\040books(book_id);
show\040tables;
describe\040books;
describe\040books_file;
describe\040users;
exit;
use\040Tinsoo
select\040*\040from\040users;
DELETE\040FROM\040users\040WHERE\040id\040=\04018;
DELETE\040FROM\040users\040WHERE\040id\040=\04019;
exit;
use\040Tinsoo
select\040*\040from\040users;
DELETE\040FROM\040users\040WHERE\040id\040=\04025;
select\040*\040from\040users;
describe\040users;
ALTER\040TABLE\040books\040ADD\040cover_image\040longblob;
use\040Tinsoo
ALTER\040TABLE\040books\040ADD\040cover_image\040longblob;
ALTER\040TABLE\040books\040ADD\040description\040text;
exit;
describe\040books_file;
use\040Tinsoo
describe\040books_file;
describe\040books;
exit
use\040Tinsoo
select*from\040books;
exit
use\040Tinsoo'
use\040Tinsoo;
SHOW\040COLUMNS\040FROM\040books;
SELECT\040description\040FROM\040books;
exit
SHOW\040COLUMNS\040FROM\040books;
use\040Tinsoo;
SHOW\040COLUMNS\040FROM\040books;
--\040刪除欄位
ALTER\040TABLE\040books\040DROP\040COLUMN\040cover_image;
ALTER\040TABLE\040books\040DROP\040COLUMN\040description;
--\040重新添加\040description\040和\040cover_image\040欄位
ALTER\040TABLE\040books\040ADD\040COLUMN\040description\040TEXT\040AFTER\040publishing;
ALTER\040TABLE\040books\040ADD\040COLUMN\040cover_image\040LONGBLOB\040AFTER\040description;
exit
use\040Tinsoo
exit
use\040Tinsoo
select*from\040books;
select*from\040users;
exit
use\040Tinsoo;
select\040book_id\040from\040books;
select\040book_id,\040book_name\040from\040books;
describe\040books;
exit;
use\040Tinsoo
delete\040from\040books\040where\040book_id\040=\040'1','2','3';
delete\040from\040books\040where\040book_id\040=\040'1,\0402,\0403';
delete\040from\040books\040where\040book_id\040in\040(1,\0402,\0403);
describe\040books_file;
delete\040from\040books_file\040where\040book_id\040in\040(1,\0402,\0403);
delete\040from\040books_file\040where\040file_id\040in\040(1,\0402,\0403);
delete\040from\040books\040where\040book_id\040in\040(1,\0402,\0403);
exit
SHOW\040VARIABLES\040LIKE\040'max_allowed_packet';
EXIT
select\040book_id,\040book_name\040from\040books
use\040Tinsoo;
select\040book_id,\040book_name\040from\040books\040use\040Tinsoo;
use\040Tinsoo;
select\040book_id,\040book_name\040from\040books;
decribe\040book_file
;
decribe\040book_file;
describe\040book_file;
describe\040books_file;
delete\040from\040books_file\040where\040file_name\040=\040'西遊記';
delete\040from\040books\040where\040book_name\040=\040'西遊記';
select\040book_id,\040book_name\040from\040books;
select\040file_id,\040file_name\040from\040books_file;
ALTER\040TABLE\040books\040MODIFY\040book_id\040INT;
ALTER\040TABLE\040books_file\040MODIFY\040file_id\040INT;
ALTER\040TABLE\040books_file\040DROP\040FOREIGN\040KEY\040fk_books_file;
ALTER\040TABLE\040books\040MODIFY\040book_id\040INT;
ALTER\040TABLE\040books_file\040MODIFY\040file_id\040INT;
UPDATE\040books\040SET\040book_id\040=\0401\040WHERE\040book_id\040=\0404;
UPDATE\040books\040SET\040book_id\040=\0402\040WHERE\040book_id\040=\04016;
UPDATE\040books\040SET\040book_id\040=\0403\040WHERE\040book_id\040=\04018;
UPDATE\040books_file\040SET\040file_id\040=\0401\040WHERE\040file_id\040=\0404;\040
UPDATE\040books_file\040SET\040file_id\040=\0402\040WHERE\040file_id\040=\04016;\040
UPDATE\040books_file\040SET\040file_id\040=\0403\040WHERE\040file_id\040=\04018;\040
ALTER\040TABLE\040books\040MODIFY\040book_id\040INT\040AUTO_INCREMENT;
ALTER\040TABLE\040books_file\040MODIFY\040file_id\040INT\040AUTO_INCREMENT;
ALTER\040TABLE\040books\040AUTO_INCREMENT\040=\0404;
ALTER\040TABLE\040books_file\040AUTO_INCREMENT\040=\0404;
ALTER\040TABLE\040books_file\040ADD\040CONSTRAINT\040fk_books_file\040
FOREIGN\040KEY\040(book_id)\040REFERENCES\040books(book_id);
ALTER\040TABLE\040books_file\040ADD\040CONSTRAINT\040fk_books_file\040\040FOREIGN\040KEY\040(book_id)\040REFERENCES\040books(book_id);
describe\040books;
ALTER\040TABLE\040books_file\040ADD\040CONSTRAINT\040fk_books_file\040\040FOREIGN\040KEY\040(file_id)\040REFERENCES\040books(book_id);
select\040book_id,\040book_name\040from\040books;
use\040Tinsoo
delect\040*\040from\040books_file\040where\040file_name='狂人日記'\040and\040file_id=4;
delete\040*\040from\040books_file\040where\040file_name='狂人日記'\040and\040file_id=4;
delete\040*\040from\040books_file\040where\040file_id=4;
describe\040books_file
;
delete\040*\040from\040books_file\040where\040file_content=null;
delete\040from\040books_file\040where\040file_content=null;
exit
use\040Tinsoo
describe\040books;
delete\040from\040books\040where\040book_id=4
;
exiyt
;
exit
use\040Tinsoo
show\040table
;
SHOW\040TABLES;
describe\040books
;
SELECT\040book_id,\040book_name
FROM\040books;
SELECT\040book_id,\040book_name\040FROM\040books;
alter\040table\040books\040add\040column\040book_voice\040longblob;
describe\040books
;
exit;
use\040Tinsoo
SELECT\040book_id,\040LENGTH(book_voice)\040AS\040audio_size
FROM\040books;
SELECT\040book_id,\040LENGTH(book_voice)\040AS\040audio_size\040FROM\040books;
CREATE\040TABLE\040book_audio\040(
\040\040\040\040audio_id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,
\040\040\040\040book_id\040INT\040NOT\040NULL,
\040\040\040\040audio_name\040VARCHAR(255)\040NOT\040NULL,
\040\040\040\040audio_data\040LONGBLOB\040NOT\040NULL,
\040\040\040\040FOREIGN\040KEY\040(book_id)\040REFERENCES\040books(book_id)
);
CREATE\040TABLE\040book_audio\040(\040\040\040\040\040audio_id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040book_id\040INT\040NOT\040NULL,\040\040\040\040\040audio_name\040VARCHAR(255)\040NOT\040NULL,\040\040\040\040\040audio_data\040LONGBLOB\040NOT\040NULL,\040\040\040\040\040FOREIGN\040KEY\040(book_id)\040REFERENCES\040books(book_id)\040);
exit
use\040Tinsoo;
describe\040book_audio;
select\040audio_id,\040book_id\040from\040book_audio;
select\040audio_id,\040book_id,\040audio_name\040from\040book_audio;
use\040Tinsoo
show\040tables;
select\040*\040from\040users;
describe\040users
;
ALTER\040TABLE\040users
ADD\040COLUMN\040avatar\040VARCHAR(255)\040DEFAULT\040NULL\040COMMENT\040'用戶頭貼\040URL',
ADD\040COLUMN\040nickname\040VARCHAR(255)\040DEFAULT\040NULL\040COMMENT\040'用戶暱稱';
ALTER\040TABLE\040users\040ADD\040COLUMN\040avatar\040VARCHAR(255)\040DEFAULT\040NULL\040COMMENT\040'用戶頭貼\040URL',\040ADD\040COLUMN\040nickname\040VARCHAR(255)\040DEFAULT\040NULL\040COMMENT\040'用戶暱稱';
describe\040users;
exit
use\040Tinsoo
show\040tables;
mysqldump\040-u\040root\040-p\040--no-data\040Tinsoo\040>\040structure.sql
;
exit;
use\040Tinsoo;
show\040tables;
SHOW\040CREATE\040TABLE\040users;
SHOW\040CREATE\040TABLE\040books;
SHOW\040CREATE\040TABLE\040books_file;
SHOW\040CREATE\040TABLE\040book_audio;
exit
use\040Tinsoo
show\040tables;
describe\040books;
select\040book_id,\040book_name\040from\040books;
EXIT;
use\040Tinsoo
describe\040users;
select\040id,\040email\040from\040users;
delete\040from\040users\040where\040id='39';
select\040id,\040email\040from\040users;
exit
